<h1 class="page-header">Dashboard</h1>

<h2 class="sub-header">Host-System</h2>

<div class="jumbotron">
  <div class="row">
    <div class="col-md-4">
      <p><strong>Hostname</strong></p>
      <p><%= HostSystem.hostname %></p>
    </div>
    <div class="col-md-4">
      <p><strong>IP-Address</strong></p>
      <p><%= HostSystem.ip_address %></p>
    </div>
    <div class="col-md-4">
      <p><strong>OS</strong></p>
      <p><%= HostSystem.os %></p>
    </div>
  </div>
</div>

<h2 class="sub-header">Containers</h2>

<p>
  <%= link_to 'Create new container', new_container_path, class: 'btn btn-primary' %>
</p>

<table class="table table-striped">
  <tr>
    <th>Status</th>
    <th>Name</th>
    <th>Hostname</th>
    <th>IP Address</th>
    <th>Memory usage</th>
    <th>Actions</th>
  </tr>
  <% Container.by_state.each do |container| %>
    <%= container_row container do %>
      <td>
        <%= state_label container %>
      </td>
      <td>
        <%= link_to container.name, '' %>
      </td>
      <td>
        <%= container.hostname %>
      </td>
      <td>
        <%= simple_format container.ip_addresses, {}, wrapper_tag: :span %>
      </td>
      <td>
        <%= memory_label container.memory_usage %>
      </td>
      <td>
        <div class="btn-group">
          <%= action_button :start, container %>
          <%= action_button :stop, container %>
          <% if container.frozen? %>
            <%= action_button :unfreeze, container %>
          <% else %>
            <%= action_button :freeze, container %>
          <% end %>
          <%= action_button :destroy, container %>
        </div>
      </td>
    <% end %>
  <% end %>
</table>
